<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join the Squad | Project Psyche</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .signup-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 600px;
            overflow: hidden;
        }
        
        .signup-header {
            background: linear-gradient(135deg, #1e6fa5, #7e57c2);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        
        .signup-header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .signup-header p {
            opacity: 0.9;
        }
        
        .signup-form {
            padding: 40px 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 0.95rem;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            border-color: #7e57c2;
            outline: none;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .form-section {
            margin: 25px 0;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .form-section h3 {
            color: #1e6fa5;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #7e57c2, #1e6fa5);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: transform 0.3s;
            margin-top: 10px;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(126, 87, 194, 0.3);
        }
        
        .login-link {
            text-align: center;
            margin-top: 25px;
            color: #666;
        }
        
        .login-link a {
            color: #7e57c2;
            text-decoration: none;
            font-weight: 600;
        }
        
        .back-home {
            text-align: center;
            margin-top: 20px;
        }
        
        .back-home a {
            color: #666;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .required::after {
            content: " *";
            color: #e74c3c;
        }
        
        .character-count {
            font-size: 0.85rem;
            color: #666;
            margin-top: 5px;
            text-align: right;
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .signup-container {
                max-width: 95%;
            }
            
            .signup-header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="signup-container">
        <div class="signup-header">
            <h1>Join the Squad</h1>
            <p>Start your smoke-free journey with The Knights of the Light</p>
        </div>
        
        <form class="signup-form" id="registrationForm">
            <!-- Personal Information Section -->
            <div class="form-section">
                <h3>Personal Information</h3>
                
                <div class="form-group">
                    <label for="fullName" class="required">Full Name or Nickname</label>
                    <input type="text" id="fullName" required placeholder="Enter your name or preferred nickname">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="sex" class="required">Sex</label>
                        <select id="sex" required>
                            <option value="">Select</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                            <option value="prefer-not">Prefer not to say</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="age" class="required">Age</label>
                        <input type="number" id="age" min="18" max="100" required placeholder="Your age">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="birthday">Birthday</label>
                        <input type="date" id="birthday">
                    </div>
                    
                    <div class="form-group">
                        <label for="zodiac">Zodiac Sign</label>
                        <select id="zodiac">
                            <option value="">Select your sign</option>
                            <option value="aries">Aries ‚ôà</option>
                            <option value="taurus">Taurus ‚ôâ</option>
                            <option value="gemini">Gemini ‚ôä</option>
                            <option value="cancer">Cancer ‚ôã</option>
                            <option value="leo">Leo ‚ôå</option>
                            <option value="virgo">Virgo ‚ôç</option>
                            <option value="libra">Libra ‚ôé</option>
                            <option value="scorpio">Scorpio ‚ôè</option>
                            <option value="sagittarius">Sagittarius ‚ôê</option>
                            <option value="capricorn">Capricorn ‚ôë</option>
                            <option value="aquarius">Aquarius ‚ôí</option>
                            <option value="pisces">Pisces ‚ôì</option>
                            <option value="dont-know">Don't know</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Contact Information Section -->
            <div class="form-section">
                <h3>Contact Information</h3>
                
                <div class="form-group">
                    <label for="email" class="required">Email Address</label>
                    <input type="email" id="email" required placeholder="your.email@example.com">
                </div>
                
                <div class="form-group">
                    <label for="phone" class="required">Phone Number</label>
                    <input type="tel" id="phone" required placeholder="+234 812 252 5982">
                </div>
                
                <div class="form-group">
                    <label for="city" class="required">City/Location</label>
                    <input type="text" id="city" required placeholder="e.g., Lagos, Abuja, Port Harcourt">
                </div>
                
                <div class="form-group">
                    <label for="contactMode" class="required">Best Mode of Contact</label>
                    <select id="contactMode" required>
                        <option value="">Select preferred contact</option>
                        <option value="whatsapp">WhatsApp</option>
                        <option value="email">Email</option>
                        <option value="phone-call">Phone Call</option>
                        <option value="telegram">Telegram</option>
                        <option value="any">Any is fine</option>
                    </select>
                </div>
            </div>
            
            <!-- Lifestyle & Background Section -->
            <div class="form-section">
                <h3>Lifestyle & Background</h3>
                
                <div class="form-group">
                    <label for="occupation" class="required">Occupation</label>
                    <input type="text" id="occupation" required placeholder="e.g., Student, Engineer, Business Owner">
                </div>
                
                <div class="form-group">
                    <label for="hobbies">Hobbies & Interests</label>
                    <input type="text" id="hobbies" placeholder="e.g., Reading, Football, Music, Gaming">
                </div>
                
                <div class="form-group">
                    <label for="smokingHistory" class="required">How long have you been smoking?</label>
                    <select id="smokingHistory" required>
                        <option value="">Select duration</option>
                        <option value="<1">Less than 1 year</option>
                        <option value="1-3">1-3 years</option>
                        <option value="3-5">3-5 years</option>
                        <option value="5-10">5-10 years</option>
                        <option value="10+">More than 10 years</option>
                        <option value="social">Social smoker only</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="goal" class="required">What is your quitting goal?</label>
                    <select id="goal" required>
                        <option value="">Select your goal</option>
                        <option value="quit">Quit completely</option>
                        <option value="reduce">Reduce smoking gradually</option>
                        <option value="maintain">Maintain smoke-free status</option>
                        <option value="support">Support someone else quitting</option>
                        <option value="exploring">Just exploring options</option>
                    </select>
                </div>
            </div>
            
            <!-- Squad Expectations Section -->
            <div class="form-section">
                <h3>Squad Introduction</h3>
                
                <div class="form-group">
                    <label for="bio" class="required">Short Bio</label>
                    <p style="font-size: 0.9rem; color: #666; margin-bottom: 8px;">Tell us something unique about you and what you expect from the squad</p>
                    <textarea id="bio" rows="5" required placeholder="Share something interesting about yourself and what you hope to contribute/gain as a squad member..."></textarea>
                    <div class="character-count">Characters: <span id="bioCount">0</span>/500</div>
                </div>
                
                <div class="form-group">
                    <label for="expectations">What do you expect from Project Psyche?</label>
                    <textarea id="expectations" rows="3" placeholder="Support, accountability, community, resources, etc."></textarea>
                    <div class="character-count">Characters: <span id="expectationsCount">0</span>/300</div>
                </div>
            </div>
            
            <!-- Terms & Submission -->
            <div class="form-section">
                <div class="form-group">
                    <label style="display: flex; align-items: flex-start; gap: 10px;">
                        <input type="checkbox" required style="margin-top: 3px;">
                        <span>I agree to the <a href="#" style="color: #7e57c2; font-weight: 600;">Knights' Code of Honor</a>, <a href="#" style="color: #7e57c2; font-weight: 600;">Terms of Service</a>, and <a href="#" style="color: #7e57c2; font-weight: 600;">Privacy Policy</a></span>
                    </label>
                </div>
                
                <div class="form-group">
                    <label style="display: flex; align-items: flex-start; gap: 10px;">
                        <input type="checkbox" style="margin-top: 3px;">
                        <span>I'd like to receive motivational messages, updates, and squad announcements</span>
                    </label>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-shield-alt" style="margin-right: 10px;"></i>
                    Join The Knights of the Light
                </button>
                
                <div class="login-link">
                    Already a Knight? <a href="#">Log in to your quarters</a>
                </div>
                
                <div class="back-home">
                    <a href="https://PROJECTPSYCHE.github.io/project-psyche">
                        <i class="fas fa-arrow-left"></i> Back to Home Castle
                    </a>
                </div>
            </div>
        </form>
    </div>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        // Character counters
        document.getElementById('bio').addEventListener('input', function() {
            document.getElementById('bioCount').textContent = this.value.length;
        });
        
        document.getElementById('expectations').addEventListener('input', function() {
            document.getElementById('expectationsCount').textContent = this.value.length;
        });
        
        // Set max lengths
        document.getElementById('bio').maxLength = 500;
        document.getElementById('expectations').maxLength = 300;
        
        // Form submission
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Collect all form data
            const formData = {
                // Personal Info
                name: document.getElementById('fullName').value,
                sex: document.getElementById('sex').value,
                age: document.getElementById('age').value,
                birthday: document.getElementById('birthday').value,
                zodiac: document.getElementById('zodiac').value,
                
                // Contact Info
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                city: document.getElementById('city').value,
                contactMode: document.getElementById('contactMode').value,
                
                // Lifestyle
                occupation: document.getElementById('occupation').value,
                hobbies: document.getElementById('hobbies').value,
                smokingHistory: document.getElementById('smokingHistory').value,
                goal: document.getElementById('goal').value,
                
                // Squad Info
                bio: document.getElementById('bio').value,
                expectations: document.getElementById('expectations').value,
                
                // Metadata
                newsletter: document.querySelector('input[type="checkbox"]:nth-child(2)').checked,
                timestamp: new Date().toLocaleString('en-NG', { 
                    timeZone: 'Africa/Lagos',
                    dateStyle: 'full',
                    timeStyle: 'medium' 
                })
            };
            
            // Show personalized success message
            const knightName = formData.name.split(' ')[0];
            const zodiacEmoji = getZodiacEmoji(formData.zodiac);
            
            const successMessage = `
üéâ WELCOME TO THE KNIGHTS OF THE LIGHT, ${knightName.toUpperCase()}! üõ°Ô∏è

Thank you for your pledge to join our honorable squad.

YOUR REGISTRATION DETAILS:
‚Ä¢ Name: ${formData.name}
‚Ä¢ Location: ${formData.city}
‚Ä¢ Contact: ${formData.contactMode === 'whatsapp' ? 'WhatsApp' : 'Email'}
‚Ä¢ Goal: ${getGoalText(formData.goal)}
${zodiacEmoji ? `‚Ä¢ Zodiac: ${formData.zodiac.charAt(0).toUpperCase() + formData.zodiac.slice(1)} ${zodiacEmoji}` : ''}

üì¨ WHAT HAPPENS NEXT:
1. Within 24 hours, you'll receive a welcome message via ${formData.contactMode}
2. You'll be invited to our exclusive Knights' WhatsApp group
3. You'll receive your PsycheEval assessment link
4. You'll be paired with your accountability partner

‚öîÔ∏è THE KNIGHT'S OATH:
"Together we stand, in light we grow,
Through every challenge, our strength will show.
Honor in quitting, courage in change,
Our bonds unbreakable, our purpose not strange."

We're excited to embark on this journey with you!
            `;
            
            alert(successMessage);
            
            // Save to localStorage
            saveRegistration(formData);
            
            // Reset form
            this.reset();
            document.getElementById('bioCount').textContent = '0';
            document.getElementById('expectationsCount').textContent = '0';
            
            // Redirect to home after 3 seconds
            setTimeout(() => {
                window.location.href = 'https://PROJECTPSYCHE.github.io/project-psyche';
            }, 3000);
        });
        
        function getZodiacEmoji(zodiac) {
            const emojis = {
                aries: '‚ôà',
                taurus: '‚ôâ',
                gemini: '‚ôä',
                cancer: '‚ôã',
                leo: '‚ôå',
                virgo: '‚ôç',
                libra: '‚ôé',
                scorpio: '‚ôè',
                sagittarius: '‚ôê',
                capricorn: '‚ôë',
                aquarius: '‚ôí',
                pisces: '‚ôì'
            };
            return emojis[zodiac] || '';
        }
        
        function getGoalText(goal) {
            const goals = {
                'quit': 'Complete cessation',
                'reduce': 'Gradual reduction',
                'maintain': 'Maintain smoke-free status',
                'support': 'Support someone else',
                'exploring': 'Exploring options'
            };
            return goals[goal] || goal;
        }
        
        function saveRegistration(data) {
            try {
                // Save to localStorage
                const registrations = JSON.parse(localStorage.getItem('projectPsycheKnights') || '[]');
                data.id = Date.now(); // Add unique ID
                registrations.push(data);
                localStorage.setItem('projectPsycheKnights', JSON.stringify(registrations));
                
                // Log to console
                console.log('üî∞ New Knight Registered:', data);
                console.log('Total Knights:', registrations.length);
                
                // Optional: Send to Google Sheets or backend
                // sendToBackend(data);
                
            } catch (error) {
                console.error('Error saving registration:', error);
            }
        }
        
        function sendToBackend(data) {
            // This is where you can integrate with Google Sheets or a backend
            // Example using Google Apps Script
            fetch('YOUR_GOOGLE_APPS_SCRIPT_URL', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            })
            .then(response => console.log('Sent to backend:', response))
            .catch(error => console.error('Backend error:', error));
        }
        
        // Set today's date as max for birthday
        document.getElementById('birthday').max = new Date().toISOString().split('T')[0];
        
        // Auto-format phone number
        document.getElementById('phone').addEventListener('blur', function() {
            let phone = this.value.replace(/\D/g, '');
            if (phone.startsWith('0')) {
                phone = '+234' + phone.substring(1);
            } else if (phone.startsWith('234')) {
                phone = '+' + phone;
            } else if (phone.length === 10) {
                phone = '+234' + phone;
            }
            this.value = phone;
        });
    </script>
</body>
</html>